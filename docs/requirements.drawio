<mxfile host="app.diagrams.net" modified="2022-12-26T00:14:10.869Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15" etag="H_Odx-jJXok5aKVh9MQ-" version="20.7.4" type="github" pages="5">
  <diagram id="3KD_eXYmt1nBWjpt5BOu" name="who&amp;what">
    <mxGraphModel dx="984" dy="695" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="DUXbgTSMgjhfadrqNw6Y-1" value="사용자&lt;br&gt;(User)" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="280" y="415" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="DUXbgTSMgjhfadrqNw6Y-2" value="티켓 구매&lt;br&gt;(buying tickets)" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="360" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="BRrjH-7lAkf6JCj92Dl8-1" value="관리자&lt;br&gt;(Manager)" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="640" y="414" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="BRrjH-7lAkf6JCj92Dl8-2" value="영화(Movie) 관리" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="780" y="260" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="BRrjH-7lAkf6JCj92Dl8-3" value="극장(Theater) 관리" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="780" y="360" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="BRrjH-7lAkf6JCj92Dl8-4" value="상영일정(Schedule)&lt;br&gt;&amp;nbsp;관리" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="780" y="456" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="BRrjH-7lAkf6JCj92Dl8-5" value="티켓(Ticket) 관리" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="780" y="548" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="BRrjH-7lAkf6JCj92Dl8-6" value="티켓 환불&lt;br&gt;(refund tickets)" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="456" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="BRrjH-7lAkf6JCj92Dl8-7" value="" style="endArrow=none;html=1;rounded=0;" parent="1" source="DUXbgTSMgjhfadrqNw6Y-1" target="DUXbgTSMgjhfadrqNw6Y-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="350" y="440" as="sourcePoint" />
            <mxPoint x="400" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BRrjH-7lAkf6JCj92Dl8-8" value="" style="endArrow=none;html=1;rounded=0;" parent="1" source="DUXbgTSMgjhfadrqNw6Y-1" target="BRrjH-7lAkf6JCj92Dl8-6" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="310" y="454.3076923076924" as="sourcePoint" />
            <mxPoint x="433.71421155163375" y="423.8549633103671" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BRrjH-7lAkf6JCj92Dl8-9" value="" style="endArrow=none;html=1;rounded=0;" parent="1" source="BRrjH-7lAkf6JCj92Dl8-2" target="BRrjH-7lAkf6JCj92Dl8-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="926.29" y="340.0023076923076" as="sourcePoint" />
            <mxPoint x="1050.0042115516337" y="370.4550366896329" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BRrjH-7lAkf6JCj92Dl8-10" value="" style="endArrow=none;html=1;rounded=0;" parent="1" source="BRrjH-7lAkf6JCj92Dl8-3" target="BRrjH-7lAkf6JCj92Dl8-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="890.3603676397788" y="339.5976029358378" as="sourcePoint" />
            <mxPoint x="1030" y="442.9230769230769" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BRrjH-7lAkf6JCj92Dl8-11" value="" style="endArrow=none;html=1;rounded=0;" parent="1" source="BRrjH-7lAkf6JCj92Dl8-4" target="BRrjH-7lAkf6JCj92Dl8-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="900.3603676397788" y="349.5976029358378" as="sourcePoint" />
            <mxPoint x="1040" y="452.9230769230769" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="BRrjH-7lAkf6JCj92Dl8-12" value="" style="endArrow=none;html=1;rounded=0;" parent="1" source="BRrjH-7lAkf6JCj92Dl8-5" target="BRrjH-7lAkf6JCj92Dl8-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="910.3603676397788" y="359.5976029358378" as="sourcePoint" />
            <mxPoint x="1050" y="462.9230769230769" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iqswCJDYivnTMvhEJWpA-1" value="&lt;div style=&quot;text-align: left;&quot;&gt;1. 유스케이스로 도메인 전문가가 읽기 쉽게 정의&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;2. 어떤 데이터를 읽어야 하는지 정리한다.&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;엔티티를 알 수 있다.&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;3. 읽어야 하는 데이터가 정의되면,&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;그 데이터를 어떻게 생성할 것인지를 고민하면 된다.&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=12;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="420" y="150" width="260" height="110" as="geometry" />
        </mxCell>
        <mxCell id="lgaIdncl1AVSzv2n3NCW-1" value="movie.comments에서 comments는 &lt;br&gt;movieRepo에서 관리하거나 별도의 repo를 갖는다.&lt;br&gt;별도의 repo를 갖는다면 movie.comments 할 때 &lt;br&gt;getRepository()를 실행해서 가져오게 한다." style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=default;fillColor=none;fontSize=12;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="840" y="170" width="270" height="70" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="buying tickets" id="SwQHozpSzbYUUKjixujb">
    <mxGraphModel dx="1996" dy="1901" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="n6CRG6hLEZFFQgUCB15U-0" />
        <mxCell id="n6CRG6hLEZFFQgUCB15U-1" parent="n6CRG6hLEZFFQgUCB15U-0" />
        <mxCell id="n6CRG6hLEZFFQgUCB15U-2" value="Frontend" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;rounded=0;strokeColor=default;fontSize=11;fontColor=#000000;" parent="n6CRG6hLEZFFQgUCB15U-1" vertex="1">
          <mxGeometry x="150" y="-1139" width="100" height="1120" as="geometry" />
        </mxCell>
        <mxCell id="dotC8Va3vZ5KyYyJwo9q-2" value="극장선택(theaterId)" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;fontSize=11;fontColor=#000000;entryX=0.47;entryY=0.338;entryDx=0;entryDy=0;entryPerimeter=0;" parent="n6CRG6hLEZFFQgUCB15U-2" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="-96" y="387.77" as="sourcePoint" />
            <mxPoint x="49" y="387.4100000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nJTvsKPgxT_m7LcFDDeI-0" value="회차 선택(roundId)" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;fontSize=11;fontColor=#000000;entryX=0.47;entryY=0.338;entryDx=0;entryDy=0;entryPerimeter=0;" parent="n6CRG6hLEZFFQgUCB15U-2" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="-96" y="537.7700000000002" as="sourcePoint" />
            <mxPoint x="49" y="537.4099999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nJTvsKPgxT_m7LcFDDeI-4" value="주문 생성, 티켓(ticketId[]) 선점" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=11;fontColor=#000000;" parent="n6CRG6hLEZFFQgUCB15U-2" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="52.00352941176516" y="670" as="sourcePoint" />
            <mxPoint x="251.5" y="670" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nJTvsKPgxT_m7LcFDDeI-5" value="주문 정보(orderId)" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontSize=11;fontColor=#000000;entryX=0.51;entryY=0.605;entryDx=0;entryDy=0;entryPerimeter=0;" parent="n6CRG6hLEZFFQgUCB15U-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="244.6800000000003" y="755.02" as="sourcePoint" />
            <mxPoint x="53.68000000000029" y="755.02" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-0" value="결제(orderId, coupon)" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;fontSize=11;fontColor=#000000;entryX=0.47;entryY=0.338;entryDx=0;entryDy=0;entryPerimeter=0;" parent="n6CRG6hLEZFFQgUCB15U-2" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="-96" y="780.3600000000005" as="sourcePoint" />
            <mxPoint x="49" y="779.9999999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-1" value="결제(orderId)" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=11;fontColor=#000000;" parent="n6CRG6hLEZFFQgUCB15U-2" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="52.00352941176516" y="800" as="sourcePoint" />
            <mxPoint x="251.5" y="800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="n6CRG6hLEZFFQgUCB15U-3" value="Backend" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;rounded=0;strokeColor=default;fontSize=11;fontColor=#000000;" parent="n6CRG6hLEZFFQgUCB15U-1" vertex="1">
          <mxGeometry x="350" y="-1139" width="100" height="1120" as="geometry" />
        </mxCell>
        <mxCell id="nJTvsKPgxT_m7LcFDDeI-1" value="티켓 목록(roundId)" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=11;fontColor=#000000;entryX=0.472;entryY=0.541;entryDx=0;entryDy=0;entryPerimeter=0;" parent="n6CRG6hLEZFFQgUCB15U-3" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-152.5" y="562" as="sourcePoint" />
            <mxPoint x="49.879999999999825" y="562.0000000000002" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nJTvsKPgxT_m7LcFDDeI-2" value="티켓 목록" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontSize=11;fontColor=#000000;" parent="n6CRG6hLEZFFQgUCB15U-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="51.68000000000001" y="628.02" as="sourcePoint" />
            <mxPoint x="-152.5" y="628.02" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-2" value="결제 성공(orderId)" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontSize=11;fontColor=#000000;entryX=0.51;entryY=0.605;entryDx=0;entryDy=0;entryPerimeter=0;" parent="n6CRG6hLEZFFQgUCB15U-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="49.5" y="949.02" as="sourcePoint" />
            <mxPoint x="-149.99999999999972" y="949.02" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-6" value="movieId" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;" parent="n6CRG6hLEZFFQgUCB15U-3" target="n6CRG6hLEZFFQgUCB15U-7" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="50" y="200" as="sourcePoint" />
            <mxPoint x="165.5" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="n6CRG6hLEZFFQgUCB15U-4" value="영화 목록(주간, 월간)" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=11;fontColor=#000000;" parent="n6CRG6hLEZFFQgUCB15U-1" target="n6CRG6hLEZFFQgUCB15U-3" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="197.5" y="-1050" as="sourcePoint" />
            <mxPoint x="390" y="-1050" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="n6CRG6hLEZFFQgUCB15U-5" value="영화 목록(주간, 월간)" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontSize=11;fontColor=#000000;entryX=0.54;entryY=0.151;entryDx=0;entryDy=0;entryPerimeter=0;" parent="n6CRG6hLEZFFQgUCB15U-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="390.5" y="-997.22" as="sourcePoint" />
            <mxPoint x="202" y="-997.22" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="n6CRG6hLEZFFQgUCB15U-6" value="영화(movieId) 선택" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;fontSize=11;fontColor=#000000;" parent="n6CRG6hLEZFFQgUCB15U-1" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="52" y="-978" as="sourcePoint" />
            <mxPoint x="199.5" y="-978" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="n6CRG6hLEZFFQgUCB15U-7" value="MoviesService" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;rounded=0;strokeColor=default;fontSize=11;fontColor=#000000;" parent="n6CRG6hLEZFFQgUCB15U-1" vertex="1">
          <mxGeometry x="590" y="-1139" width="100" height="1120" as="geometry" />
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-7" value="movieId, location" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontColor=#FF0000;" parent="n6CRG6hLEZFFQgUCB15U-7" target="n6CRG6hLEZFFQgUCB15U-11" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-189.75" y="310" as="sourcePoint" />
            <mxPoint x="49.75" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="n6CRG6hLEZFFQgUCB15U-8" value="영화 정보(movieId)" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=11;fontColor=#000000;entryX=0.49;entryY=0.233;entryDx=0;entryDy=0;entryPerimeter=0;" parent="n6CRG6hLEZFFQgUCB15U-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="197.5" y="-963.04" as="sourcePoint" />
            <mxPoint x="399" y="-963.04" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="n6CRG6hLEZFFQgUCB15U-9" value="a movie" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontSize=11;fontColor=#000000;entryX=0.52;entryY=0.308;entryDx=0;entryDy=0;entryPerimeter=0;" parent="n6CRG6hLEZFFQgUCB15U-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="399.5" y="-891.04" as="sourcePoint" />
            <mxPoint x="200" y="-891.04" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="n6CRG6hLEZFFQgUCB15U-11" value="TheatersService" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;rounded=0;strokeColor=default;fontSize=11;fontColor=#000000;" parent="n6CRG6hLEZFFQgUCB15U-1" vertex="1">
          <mxGeometry x="710" y="-1139" width="100" height="1120" as="geometry" />
        </mxCell>
        <mxCell id="n6CRG6hLEZFFQgUCB15U-12" value="극장 목록(movieId, 현재위치)" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=11;fontColor=#000000;entryX=0.49;entryY=0.372;entryDx=0;entryDy=0;entryPerimeter=0;" parent="n6CRG6hLEZFFQgUCB15U-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="197.5" y="-848.3600000000001" as="sourcePoint" />
            <mxPoint x="399" y="-848.3600000000001" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="n6CRG6hLEZFFQgUCB15U-13" value="로그인" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;fontSize=11;fontColor=#000000;" parent="n6CRG6hLEZFFQgUCB15U-1" target="n6CRG6hLEZFFQgUCB15U-2" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="50" y="-1069" as="sourcePoint" />
            <mxPoint x="221.5" y="-1059" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="n6CRG6hLEZFFQgUCB15U-20" value="ScheduleService" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" parent="n6CRG6hLEZFFQgUCB15U-1" vertex="1">
          <mxGeometry x="830" y="-1139" width="100" height="1120" as="geometry" />
        </mxCell>
        <mxCell id="n6CRG6hLEZFFQgUCB15U-21" value="회차 목록(theaterId, movieId, date)" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=11;fontColor=#000000;entryX=0.472;entryY=0.541;entryDx=0;entryDy=0;entryPerimeter=0;" parent="n6CRG6hLEZFFQgUCB15U-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="197.5" y="-685.0799999999999" as="sourcePoint" />
            <mxPoint x="397.20000000000005" y="-685.0799999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="n6CRG6hLEZFFQgUCB15U-22" value="rounds(시간, 남은 티켓수)" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontSize=11;fontColor=#000000;entryX=0.51;entryY=0.605;entryDx=0;entryDy=0;entryPerimeter=0;" parent="n6CRG6hLEZFFQgUCB15U-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="399.5" y="-621" as="sourcePoint" />
            <mxPoint x="199" y="-620.9999999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dotC8Va3vZ5KyYyJwo9q-0" value="날짜 선택(date)" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;fontSize=11;fontColor=#000000;" parent="n6CRG6hLEZFFQgUCB15U-1" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="52" y="-722" as="sourcePoint" />
            <mxPoint x="199.5" y="-722" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dotC8Va3vZ5KyYyJwo9q-1" value="theaters(movieId,상영기간)" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontSize=11;fontColor=#000000;entryX=0.52;entryY=0.308;entryDx=0;entryDy=0;entryPerimeter=0;" parent="n6CRG6hLEZFFQgUCB15U-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="399.5" y="-777.9999999999998" as="sourcePoint" />
            <mxPoint x="200" y="-777.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nJTvsKPgxT_m7LcFDDeI-3" value="티켓 선택(ticketId)" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;fontSize=11;fontColor=#000000;entryX=0.47;entryY=0.338;entryDx=0;entryDy=0;entryPerimeter=0;" parent="n6CRG6hLEZFFQgUCB15U-1" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="54" y="-490.22999999999956" as="sourcePoint" />
            <mxPoint x="199" y="-490.59000000000015" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-4" value="ranking(weekly)&amp;nbsp;" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontColor=#FF0000;" parent="n6CRG6hLEZFFQgUCB15U-1" target="EQVAHNTnu9_8cxI2cfLv-5" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="404" y="-1029" as="sourcePoint" />
            <mxPoint x="484" y="-1029" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-5" value="StatisticsService" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;rounded=0;strokeColor=default;fontSize=11;fontColor=#000000;" parent="n6CRG6hLEZFFQgUCB15U-1" vertex="1">
          <mxGeometry x="470" y="-1139" width="100" height="1120" as="geometry" />
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-8" value="theaters(movieId, 상영기간)" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontSize=11;fontColor=#000000;entryX=0.52;entryY=0.308;entryDx=0;entryDy=0;entryPerimeter=0;" parent="EQVAHNTnu9_8cxI2cfLv-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="289.5" y="341" as="sourcePoint" />
            <mxPoint x="-70" y="341.0000000000002" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-14" value="theaterId, movieId, date" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontColor=#FF0000;" parent="EQVAHNTnu9_8cxI2cfLv-5" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-70" y="474" as="sourcePoint" />
            <mxPoint x="409.5" y="474" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-20" value="ticketId[]" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=11;fontColor=#FF0000;" parent="EQVAHNTnu9_8cxI2cfLv-5" target="EQVAHNTnu9_8cxI2cfLv-19" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-69.99647058823484" y="689" as="sourcePoint" />
            <mxPoint x="529.5" y="689" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-21" value="주문 정보(orderId)" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontSize=11;fontColor=#000000;entryX=0.51;entryY=0.605;entryDx=0;entryDy=0;entryPerimeter=0;" parent="EQVAHNTnu9_8cxI2cfLv-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="649.5" y="739" as="sourcePoint" />
            <mxPoint x="-69.75" y="739" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-24" value="결제(orderId,paymentOption)" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=11;fontColor=#FF0000;" parent="EQVAHNTnu9_8cxI2cfLv-5" target="EQVAHNTnu9_8cxI2cfLv-23" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-69.99647058823484" y="819" as="sourcePoint" />
            <mxPoint x="129.5" y="819" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-10" value="예매 시작(movieId)" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;fontSize=11;fontColor=#000000;" parent="n6CRG6hLEZFFQgUCB15U-1" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="52" y="-872" as="sourcePoint" />
            <mxPoint x="199.5" y="-872" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-15" value="rounds(시간, 남은 티켓수)" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontSize=11;fontColor=#000000;entryX=0.51;entryY=0.605;entryDx=0;entryDy=0;entryPerimeter=0;" parent="n6CRG6hLEZFFQgUCB15U-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="879.5" y="-636" as="sourcePoint" />
            <mxPoint x="400" y="-636" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-16" value="TicketsService" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" parent="n6CRG6hLEZFFQgUCB15U-1" vertex="1">
          <mxGeometry x="950" y="-1139" width="100" height="1120" as="geometry" />
        </mxCell>
        <mxCell id="JzAR9wD903sUzkHggHRX-0" value="sold tickets&amp;nbsp;" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;" parent="EQVAHNTnu9_8cxI2cfLv-16" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="49.5" y="890" as="sourcePoint" />
            <mxPoint x="-38" y="890" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-17" value="티켓 목록(roundId)" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=11;fontColor=#FF0000;" parent="n6CRG6hLEZFFQgUCB15U-1" target="EQVAHNTnu9_8cxI2cfLv-16" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="400.00352941176516" y="-560" as="sourcePoint" />
            <mxPoint x="599.5" y="-560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-18" value="tickets(좌석수 만큼 있다)" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontSize=11;fontColor=#000000;entryX=0.51;entryY=0.605;entryDx=0;entryDy=0;entryPerimeter=0;" parent="n6CRG6hLEZFFQgUCB15U-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="999.5" y="-528" as="sourcePoint" />
            <mxPoint x="400.25" y="-528" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-19" value="OrdersService" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" parent="n6CRG6hLEZFFQgUCB15U-1" vertex="1">
          <mxGeometry x="1070" y="-1139" width="100" height="1120" as="geometry" />
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-25" value="paid(ticketId)" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=11;fontColor=#000000;" parent="EQVAHNTnu9_8cxI2cfLv-19" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="49.5" y="869" as="sourcePoint" />
            <mxPoint x="-70" y="869" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-28" value="결제 성공(orderId)" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;rounded=0;fontSize=11;fontColor=#000000;" parent="EQVAHNTnu9_8cxI2cfLv-19" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="169.6300000000001" y="918" as="sourcePoint" />
            <mxPoint x="-670.5" y="918" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-22" value="hold(10min,ticketId)" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;fontSize=11;fontColor=#000000;" parent="n6CRG6hLEZFFQgUCB15U-1" source="EQVAHNTnu9_8cxI2cfLv-19" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="410.00352941176516" y="-426" as="sourcePoint" />
            <mxPoint x="1000" y="-426" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-23" value="PaymentsService" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" parent="n6CRG6hLEZFFQgUCB15U-1" vertex="1">
          <mxGeometry x="1190" y="-1139" width="120" height="1120" as="geometry" />
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-27" value="결제성공(orderId)" style="html=1;verticalAlign=bottom;endArrow=open;rounded=0;fontSize=11;fontColor=#000000;endFill=0;" parent="EQVAHNTnu9_8cxI2cfLv-23" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="49.5" y="849" as="sourcePoint" />
            <mxPoint x="-70" y="849" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-29" value="TicketsService의 데이터는&amp;nbsp;&lt;br&gt;영화수*극장수*좌석수*회차*상영기간 &lt;br&gt;만큼 생성된다. 엄청나게 많은 데이터다." style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=14;align=left;" parent="n6CRG6hLEZFFQgUCB15U-1" vertex="1">
          <mxGeometry x="924" y="-1047" width="206" height="67" as="geometry" />
        </mxCell>
        <mxCell id="EQVAHNTnu9_8cxI2cfLv-32" value="&lt;div style=&quot;text-align: left;&quot;&gt;이벤트인가? 메소드인가?&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;티켓이 업데이트 됐다는 정보는 이벤트로 했다. Statistics에서 사용한다.&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;PaymentService는 OrderService와 밀접한 관계가 있어서 직접 호출했다.&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;그러나 티켓 입장에서는 어떤 서비스에 업데이트 해야 하는지 모른다.&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;Order와 Ticket도 밀접한 관계가 있기 때문에 직접 호출했다.&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=14;" parent="n6CRG6hLEZFFQgUCB15U-1" vertex="1">
          <mxGeometry x="840" y="-180" width="380" height="130" as="geometry" />
        </mxCell>
        <mxCell id="YmCHaal1r0CGUgPRFODm-0" value="구매 완료 화면" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;" parent="n6CRG6hLEZFFQgUCB15U-1" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="199.5" y="-161" as="sourcePoint" />
            <mxPoint x="50" y="-161" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2Gi9oBy8cIkgD_BMxEC6-0" value="&lt;div style=&quot;text-align: left;&quot;&gt;TheatersService는 scheduleRepo을 포함한다.&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;const theaters = &amp;nbsp;schedule.findTheatersByMovie(movieId) 를 해야 한다.&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=14;" parent="n6CRG6hLEZFFQgUCB15U-1" vertex="1">
          <mxGeometry x="651" y="-914" width="399" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yz2ctBILXrtQK-oeyWx--0" value="메소드를 weeklyRanking로 해도 될까?&lt;br&gt;이것은 weekly를 속성으로 볼 것인가? 대상으로 볼 것인가?&lt;br&gt;여기서는 속성으로 판단했다. &lt;br&gt;그리고 지금은 ranking이지만 정확하게는 movieRankings가 될 것이다. 순위는 영화 외에도 극장, 연령 등 다양할 수 있다." style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=14;align=left;" parent="n6CRG6hLEZFFQgUCB15U-1" vertex="1">
          <mxGeometry x="551" y="-1058" width="299" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Yz2ctBILXrtQK-oeyWx--1" value="&lt;div style=&quot;text-align: left;&quot;&gt;ScheduleService는 TicketsRepo를 포함해야 한다.&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;회차 당 남은 티켓수를 보여줘야 한다.&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=14;" parent="n6CRG6hLEZFFQgUCB15U-1" vertex="1">
          <mxGeometry x="750" y="-740" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ACQ4I4YMNUELCtM10cYg-0" value="&lt;h1&gt;Buying Tickets&lt;/h1&gt;&lt;p&gt;actor : user&lt;/p&gt;&lt;p&gt;goal : 사용자가 영화 티켓을 구매한다.&lt;/p&gt;&lt;p&gt;preconditions : 사용자는 회원 가입 및 로그인 상태다.&lt;/p&gt;&lt;p&gt;main flow:&lt;/p&gt;&lt;p&gt;1. 사용자가 현재 상영중인 영화를 선택한다.&lt;/p&gt;&lt;p&gt;&amp;nbsp; - 영화 목록은 주간 순위, 월간 순위, 개봉일자로 정렬된다.&lt;/p&gt;&lt;p&gt;&amp;nbsp; - 영화를 선택하면 시놉시스, 사용자 후기 등 상세 정보를 볼 수 있다.&lt;/p&gt;&lt;p&gt;&lt;strike&gt;&amp;nbsp; - 검색을 통해서 과거에 상영했던 영화를 볼 수 있다.&lt;/strike&gt;&lt;/p&gt;&lt;p&gt;2. 극장을 선택한다.&lt;/p&gt;&amp;nbsp; - 선택한 영화를 상영 중인 극장만 보여준다&lt;p&gt;&amp;nbsp; - 사용자의 현재 위치에서 가까운 극장을 추천한다.&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; - 반경 1.5km의 모든 극장. 없으면 가장 가까운 극장 5개&lt;/p&gt;&lt;p&gt;&amp;nbsp; - 지역을 선택하면 해당하는 극장 전체를 보여준다.&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; - 지역은 여러단계로 이루어진다. 극장 목록을 보여주는 것은 마지막 단계다.&lt;/p&gt;&lt;p&gt;3. 상영 시간을 선택한다.&lt;/p&gt;&lt;p&gt;&amp;nbsp; - 매진되어 좌석이 없는 시간은 흐리게 표현한다.&lt;/p&gt;&lt;p&gt;4. 좌석을 선택한다.&lt;/p&gt;&lt;p&gt;&amp;nbsp; - 좌석은 등급과 종류가 있다.(로얄석, 커플석)&lt;/p&gt;&lt;p&gt;&amp;nbsp; - 좌석을 선택하면 10분 동안 선점 상태가 된다. 결제를 하기 전에 다른 사용자가 티켓을 구매하는 것을 막는다.&lt;/p&gt;&lt;p&gt;5. 결제한다.&lt;/p&gt;&lt;p&gt;&amp;nbsp; - 카드결제는 PaymentGateway 서비스를 사용한다.&lt;/p&gt;&lt;p&gt;6. 완료&lt;/p&gt;&lt;p&gt;&amp;nbsp; - 결제까지 성공하면 구매한 티켓 정보를 보여준다.&lt;/p&gt;" style="text;html=1;strokeColor=default;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="n6CRG6hLEZFFQgUCB15U-1" vertex="1">
          <mxGeometry x="-420" y="-1000" width="387" height="676" as="geometry" />
        </mxCell>
        <mxCell id="SWdKTFVaQi8pzAOr6D53-0" value="&lt;div style=&quot;&quot;&gt;orderId 리턴할 때 포인트/쿠폰 등 결제 관련 정보도 함께 리턴한다.&lt;/div&gt;&lt;div style=&quot;&quot;&gt;PointService, CouponService 로 나눌 것인가?&lt;/div&gt;&lt;div style=&quot;&quot;&gt;둘은 나누는 것이 좋다. 각각은 성격이 다른 entity이다.&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=14;align=left;" vertex="1" parent="n6CRG6hLEZFFQgUCB15U-1">
          <mxGeometry x="1144" y="-470" width="380" height="130" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="SM2SGl8BYJB8UhkULOEg" name="register schedules">
    <mxGraphModel dx="2487" dy="2206" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="9uYw_KhsKnFEXbL32LWx-5" value="theaters" style="shape=umlFrame;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="457" y="-891" width="557" height="521" as="geometry" />
        </mxCell>
        <mxCell id="Odeb3aX9YlO9yTvkj5wm-1" value="&lt;h1&gt;Register Schedules&lt;/h1&gt;&lt;p&gt;actor : admin&lt;/p&gt;&lt;p&gt;goal : 관리자가 영화 상영 일정을 등록한다.&lt;/p&gt;&lt;p&gt;preconditions : 영화는 등록된 상태다.&lt;/p&gt;&lt;p&gt;main flow:&lt;/p&gt;&lt;p&gt;1. 상영할 영화를 선택한다.&lt;/p&gt;&lt;p&gt;2. 극장을 선택한다.&amp;nbsp;&lt;/p&gt;&lt;p&gt;&amp;nbsp; - 극장은 한 번에 여러개를 선택한다.&lt;/p&gt;&lt;p&gt;3. 상영기간을 선택한다.&lt;/p&gt;&lt;p&gt;&amp;nbsp; - 상영기간은 선택한 모든 극장에 동일하게 적용한다.&lt;/p&gt;4. 회차를 등록한다.&lt;br&gt;&amp;nbsp; - 회차는 평일과 주말을 다르게 지정할 수 있다.&lt;br&gt;&lt;strike&gt;&amp;nbsp; - 특정 날짜를 예외적으로 지정할 수 있다.&lt;/strike&gt;" style="text;html=1;strokeColor=default;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-420" y="-1000" width="387" height="340" as="geometry" />
        </mxCell>
        <mxCell id="vX07RPADunMnEaI6peAj-1" value="&lt;h1&gt;&lt;span style=&quot;font-size: 12px; font-weight: normal;&quot;&gt;{&lt;/span&gt;&lt;br&gt;&lt;/h1&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;p&gt;movieId,&lt;/p&gt;&lt;p&gt;theaterIds[],&lt;/p&gt;&lt;p&gt;screeningPeriod: { start: 20201101, end: 20210131 },&lt;/p&gt;&lt;p&gt;rounds: {&lt;/p&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;p&gt;&lt;span style=&quot;&quot;&gt;weekday: [&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;{ start: 0900, end: 1100}&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;{ start: 1130, end: 1330}&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;&quot;&gt; &lt;/span&gt;{ start: 1400, end: 1600}&lt;br&gt;&lt;/p&gt;&lt;p&gt;]&lt;/p&gt;&lt;p&gt;weekend: [&lt;/p&gt;&lt;p&gt;{ start: 0700, end: 0900}&lt;/p&gt;&lt;p&gt;{ start: 0930, end: 1130}&lt;/p&gt;&lt;p&gt;{ start: 1200, end: 1400}&lt;/p&gt;&lt;p&gt;{ start: 1430, end: 1630}&lt;/p&gt;&lt;p&gt;]&lt;/p&gt;&lt;/blockquote&gt;&lt;/blockquote&gt;&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;p&gt;}&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;}&lt;/p&gt;" style="text;html=1;strokeColor=default;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-14" y="-892" width="344" height="495" as="geometry" />
        </mxCell>
        <mxCell id="U0gQdvEeILeaCc7bRvYv-1" value="특정 날짜는 예외적으로 지정할 수 있다는 조건은 고객과 협의해서 스케쥴 등록 후 수정하는 것으로 변경했다.&lt;br&gt;&lt;br&gt;등록을 하면 theater.seats를 읽어서&amp;nbsp;tickets생성해야 한다." style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=14;align=left;" parent="1" vertex="1">
          <mxGeometry x="-414" y="-641" width="342" height="95" as="geometry" />
        </mxCell>
        <mxCell id="NnGb8EO1kglY1VLVuVyN-1" value="개발 초기임에도 register schedules는 low-level에 집중한 그림을 그린다.&lt;br&gt;요구사항 자체는 간단하나 그것을 처리하는 일이 복잡하다고 판단한 것이다.&lt;br&gt;정해진 것은 없다. 필요한 것을 필요한 만큼 하면 된다." style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=14;align=left;" parent="1" vertex="1">
          <mxGeometry x="-12" y="-1000" width="362" height="95" as="geometry" />
        </mxCell>
        <mxCell id="o0qO1j8lufjzQVHVlePb-1" value="SchedulesService" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;strokeColor=default;" parent="1" vertex="1">
          <mxGeometry x="478" y="-1000" width="100" height="745" as="geometry" />
        </mxCell>
        <mxCell id="o0qO1j8lufjzQVHVlePb-2" value="create(command)" style="html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;rounded=0;" parent="o0qO1j8lufjzQVHVlePb-1" edge="1">
          <mxGeometry width="60" relative="1" as="geometry">
            <mxPoint x="-79" y="77" as="sourcePoint" />
            <mxPoint x="49" y="77" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="qEBVK_d2-eZIbQQB0vA7-4" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" parent="o0qO1j8lufjzQVHVlePb-1" vertex="1">
          <mxGeometry x="47" y="187" width="10" height="123" as="geometry" />
        </mxCell>
        <mxCell id="qEBVK_d2-eZIbQQB0vA7-5" value="command&lt;br&gt;To&lt;br&gt;Schedules" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;" parent="o0qO1j8lufjzQVHVlePb-1" target="qEBVK_d2-eZIbQQB0vA7-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="52" y="167" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="82" y="167" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qEBVK_d2-eZIbQQB0vA7-6" value="save(schedules)" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;" parent="o0qO1j8lufjzQVHVlePb-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="52" y="341" as="sourcePoint" />
            <mxPoint x="193.5" y="341" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9uYw_KhsKnFEXbL32LWx-7" value="loop weekend" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;" parent="o0qO1j8lufjzQVHVlePb-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="57" y="260" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="87" y="260" />
            </Array>
            <mxPoint x="62" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="o0qO1j8lufjzQVHVlePb-3" value="schedulesRepo" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;strokeColor=default;" parent="1" vertex="1">
          <mxGeometry x="622" y="-1000" width="100" height="752" as="geometry" />
        </mxCell>
        <mxCell id="9uYw_KhsKnFEXbL32LWx-1" value="TicketService" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="764" y="-1000" width="100" height="752" as="geometry" />
        </mxCell>
        <mxCell id="9uYw_KhsKnFEXbL32LWx-4" value="create(schedules)" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;" parent="9uYw_KhsKnFEXbL32LWx-1" edge="1">
          <mxGeometry x="-0.2056" y="10" width="80" relative="1" as="geometry">
            <mxPoint x="-237" y="386" as="sourcePoint" />
            <mxPoint x="49.5" y="386" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="pX1dZzh25ZDtUH21wj8n-1" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" parent="9uYw_KhsKnFEXbL32LWx-1" vertex="1">
          <mxGeometry x="46" y="490" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="pX1dZzh25ZDtUH21wj8n-2" value="create tickets&lt;br&gt;from theater.seats" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;" parent="9uYw_KhsKnFEXbL32LWx-1" target="pX1dZzh25ZDtUH21wj8n-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="51" y="470" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="81" y="470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9uYw_KhsKnFEXbL32LWx-2" value="TheaterRepository" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="906" y="-1000" width="100" height="752" as="geometry" />
        </mxCell>
        <mxCell id="9uYw_KhsKnFEXbL32LWx-3" value="find(theaterId)" style="html=1;verticalAlign=bottom;endArrow=block;rounded=0;" parent="1" edge="1">
          <mxGeometry x="-0.2056" y="10" width="80" relative="1" as="geometry">
            <mxPoint x="816" y="-569" as="sourcePoint" />
            <mxPoint x="955.5" y="-569" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9uYw_KhsKnFEXbL32LWx-6" value="loop weekday" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="536" y="-787" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="566" y="-787" />
            </Array>
            <mxPoint x="541" y="-767" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9uYw_KhsKnFEXbL32LWx-8" value="절차식에 익숙하다면 TicketService.create를 호출하는 대신, 직접 TheaterRepository.find를 호출해서 tickets를 생성했을 것이다.&lt;br&gt;그러면 TicketService는 건너뛰고 TicketRepository만 사용했을 것이다." style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=14;align=left;" parent="1" vertex="1">
          <mxGeometry x="730" y="-707" width="370" height="70" as="geometry" />
        </mxCell>
        <mxCell id="pX1dZzh25ZDtUH21wj8n-3" value="생성 전에 검증하는 코드를 넣을 수 있다.&lt;br&gt;검증을 DB에 맡기면 무엇이 나쁜가?&lt;br&gt;DB의 예외를 처리하는 것이나 사전에 검증하는 코드나 비슷하다. DB의 예외는 상위에서 일반화 시켜서 처리한다.&lt;br&gt;예외는 말 그대로 예외이며, 예상하지 못한 것이다." style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=14;align=left;" parent="1" vertex="1">
          <mxGeometry x="690" y="-847" width="300" height="87" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="o-RGYNDa6gb60LkuTU2P" name="classes">
    <mxGraphModel dx="358" dy="2018" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="3fTszNtFpuzyzQcIzCOg-1" value="Theater" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" parent="1" vertex="1">
          <mxGeometry x="1289" y="-437" width="140" height="104" as="geometry" />
        </mxCell>
        <mxCell id="vhe-QOuxdfgtGvUZO5OU-1" value="id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="3fTszNtFpuzyzQcIzCOg-1" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-2" value="location" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="3fTszNtFpuzyzQcIzCOg-1" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-8" value="seats" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="3fTszNtFpuzyzQcIzCOg-1" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-3" value="Schedule" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" parent="1" vertex="1">
          <mxGeometry x="1380" y="-710" width="150" height="182" as="geometry" />
        </mxCell>
        <mxCell id="SCe2mbAj9mP6YeUEhFnU-2" value="id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="3fTszNtFpuzyzQcIzCOg-3" vertex="1">
          <mxGeometry y="26" width="150" height="26" as="geometry" />
        </mxCell>
        <mxCell id="SCe2mbAj9mP6YeUEhFnU-3" value="date" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="3fTszNtFpuzyzQcIzCOg-3" vertex="1">
          <mxGeometry y="52" width="150" height="26" as="geometry" />
        </mxCell>
        <mxCell id="SCe2mbAj9mP6YeUEhFnU-4" value="start" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="3fTszNtFpuzyzQcIzCOg-3" vertex="1">
          <mxGeometry y="78" width="150" height="26" as="geometry" />
        </mxCell>
        <mxCell id="SCe2mbAj9mP6YeUEhFnU-5" value="end" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="3fTszNtFpuzyzQcIzCOg-3" vertex="1">
          <mxGeometry y="104" width="150" height="26" as="geometry" />
        </mxCell>
        <mxCell id="SCe2mbAj9mP6YeUEhFnU-6" value="theaterId" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="3fTszNtFpuzyzQcIzCOg-3" vertex="1">
          <mxGeometry y="130" width="150" height="26" as="geometry" />
        </mxCell>
        <mxCell id="SCe2mbAj9mP6YeUEhFnU-7" value="movieId" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="3fTszNtFpuzyzQcIzCOg-3" vertex="1">
          <mxGeometry y="156" width="150" height="26" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-6" value="Movie" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" parent="1" vertex="1">
          <mxGeometry x="1480" y="-437" width="140" height="78" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-7" value="id" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="3fTszNtFpuzyzQcIzCOg-6" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-9" value="+ field: type" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="3fTszNtFpuzyzQcIzCOg-6" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-10" value="" style="endArrow=none;html=1;edgeStyle=orthogonalEdgeStyle;rounded=0;jumpStyle=arc;" parent="1" source="3fTszNtFpuzyzQcIzCOg-1" target="3fTszNtFpuzyzQcIzCOg-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1380" y="-572" as="sourcePoint" />
            <mxPoint x="1540" y="-572" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-11" value="1" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=top;" parent="3fTszNtFpuzyzQcIzCOg-10" connectable="0" vertex="1">
          <mxGeometry x="-1" relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-12" value="*" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=bottom;" parent="3fTszNtFpuzyzQcIzCOg-10" connectable="0" vertex="1">
          <mxGeometry x="1" relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-13" value="" style="endArrow=none;html=1;edgeStyle=orthogonalEdgeStyle;rounded=0;jumpStyle=arc;" parent="1" source="3fTszNtFpuzyzQcIzCOg-3" target="3fTszNtFpuzyzQcIzCOg-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1630" y="-560" as="sourcePoint" />
            <mxPoint x="1780" y="-389" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-14" value="*" style="edgeLabel;resizable=0;html=1;align=right;verticalAlign=top;" parent="3fTszNtFpuzyzQcIzCOg-13" connectable="0" vertex="1">
          <mxGeometry x="-1" relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-15" value="1" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=bottom;" parent="3fTszNtFpuzyzQcIzCOg-13" connectable="0" vertex="1">
          <mxGeometry x="1" relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-16" value="Ticket" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" parent="1" vertex="1">
          <mxGeometry x="1385" y="-880" width="140" height="156" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-17" value="seatId" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="3fTszNtFpuzyzQcIzCOg-16" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-18" value="sold" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="3fTszNtFpuzyzQcIzCOg-16" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="3_Pp4POVXidikGEL4NJ2-1" value="hold" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="3fTszNtFpuzyzQcIzCOg-16">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-19" value="grade" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="3fTszNtFpuzyzQcIzCOg-16" vertex="1">
          <mxGeometry y="104" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-20" value="scheduleId" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#333333;" parent="3fTszNtFpuzyzQcIzCOg-16" vertex="1">
          <mxGeometry y="130" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-21" value="" style="endArrow=none;html=1;edgeStyle=orthogonalEdgeStyle;rounded=0;jumpStyle=arc;" parent="1" source="3fTszNtFpuzyzQcIzCOg-3" target="3fTszNtFpuzyzQcIzCOg-16" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1655" y="-716" as="sourcePoint" />
            <mxPoint x="1655" y="-640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-22" value="1" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=top;" parent="3fTszNtFpuzyzQcIzCOg-21" connectable="0" vertex="1">
          <mxGeometry x="-1" relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-23" value="*" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=bottom;" parent="3fTszNtFpuzyzQcIzCOg-21" connectable="0" vertex="1">
          <mxGeometry x="1" relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-24" value="Order" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" parent="1" vertex="1">
          <mxGeometry x="1385" y="-1075" width="140" height="156" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-25" value="userId" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#333333;" parent="3fTszNtFpuzyzQcIzCOg-24" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-26" value="tickets" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontColor=#333333;" parent="3fTszNtFpuzyzQcIzCOg-24" vertex="1">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-27" value="totalPrice" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="3fTszNtFpuzyzQcIzCOg-24" vertex="1">
          <mxGeometry y="78" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-28" value="user에 따른 할인" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="3fTszNtFpuzyzQcIzCOg-24" vertex="1">
          <mxGeometry y="104" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-29" value="event 할인" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="3fTszNtFpuzyzQcIzCOg-24" vertex="1">
          <mxGeometry y="130" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-30" value="" style="endArrow=none;html=1;edgeStyle=orthogonalEdgeStyle;rounded=0;jumpStyle=arc;" parent="1" source="3fTszNtFpuzyzQcIzCOg-16" target="3fTszNtFpuzyzQcIzCOg-24" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1800" y="-320" as="sourcePoint" />
            <mxPoint x="1895" y="-204" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-31" value="*" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=top;" parent="3fTszNtFpuzyzQcIzCOg-30" connectable="0" vertex="1">
          <mxGeometry x="-1" relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-32" value="1" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=bottom;" parent="3fTszNtFpuzyzQcIzCOg-30" connectable="0" vertex="1">
          <mxGeometry x="1" relative="1" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-33" value="강하게 결합하는 것이 옳은가?&lt;br&gt;각각의 연관을 최대한 끊는 것이 옳은가?&lt;br&gt;movie를 상영하는 극장을 찾기 위한 방법은 뭔가?&lt;br&gt;movieId로 극장을 탐색하는가?&lt;br&gt;movie에 theaters를 두는가?&lt;br&gt;&lt;br&gt;스케쥴을 추가할 때 batch를 지원하는 서비스는 어찌하나&lt;br&gt;&lt;br&gt;금액Price object 반영, 포인트가 금액 대신인 경우도 있다 혼합되면 어쩔? 엔터프라이즈 516p" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=14;align=left;" parent="1" vertex="1">
          <mxGeometry x="1610" y="-1070" width="279" height="160" as="geometry" />
        </mxCell>
        <mxCell id="3fTszNtFpuzyzQcIzCOg-34" value="&lt;div style=&quot;&quot;&gt;기본이 되는 entity는 보통 다른 aggregate의 요소가 된다.&lt;/div&gt;&lt;div style=&quot;&quot;&gt;여기서 기본은 먼저 존재해야 하는 것.&lt;/div&gt;&lt;div style=&quot;&quot;&gt;Theater, Movie가 없으면 Schedule 등은 존재할 수 없다.&amp;nbsp;&lt;/div&gt;&lt;span style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;혹은 Schedule은 응용서비스의 한 종류로 해석할 수 있다.&lt;/div&gt;&lt;/span&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=14;align=left;" parent="1" vertex="1">
          <mxGeometry x="1650" y="-434.5" width="300" height="99" as="geometry" />
        </mxCell>
        <mxCell id="U9UmQg3kP7cOse3X65Sd-1" value="&lt;div style=&quot;&quot;&gt;자유석은 특별한 티켓이다.&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;이것을 추가하게 되면 어떻게 되는지 보여준다.&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=14;align=left;" parent="1" vertex="1">
          <mxGeometry x="1610" y="-830" width="231" height="80" as="geometry" />
        </mxCell>
        <mxCell id="u2kb-pPZuD_mpwhoR287-1" value="theater.seats는 value인가 entity인가? &lt;br&gt;entity라면 theater가 aggregate root다&lt;br&gt;seat는 entity다 id로 관리되어야 하는 각각이 유니크한 속성이다." style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;size=14;align=left;" parent="1" vertex="1">
          <mxGeometry x="1033" y="-437" width="238" height="78" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="nV54Y1yRFOsjFaBgSNUw" name="pay order">
    <mxGraphModel dx="984" dy="667" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
